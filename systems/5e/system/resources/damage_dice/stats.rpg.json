[
  {
    "id": "dices",
    "name": "Dices",
    "type": "base",
    "value_type": "array",
    "sub_value_type": "resource",
    "resource_type": "dice_roll",
    "default_value": []
  },
  {
    "id": "damage_type",
    "name": "Damage type",
    "abbreviation": "Dmg.",
    "type": "base",
    "value_type": "string",
    "default_value": "acid"
  },
  {
    "id": "display_description",
    "name": "Display description",
    "type": "calculated",
    "value_type": "string",
    "components": {
      "type": "when",
      "clauses": [
        {
          "condition": {
            "type": "not",
            "components": {
              "type": "isEmpty",
              "components": {
                "type": "stat",
                "stat": "dices"
              }
            }
          },
          "components": {
            "type": "concat",
            "components": {
              "type": "list",
              "components": [
                {
                  "type": "joinToString",
                  "separator": " + ",
                  "components": {
                    "type": "map",
                    "components": {
                      "type": "stat",
                      "stat": "dices"
                    },
                    "mapper": {
                      "type": "stat",
                      "stat": "$mapValue.formula"
                    }
                  }
                },
                {
                  "type": "constant",
                  "value": " ",
                  "value_type": "string"
                },
                {
                  "type": "enumeratedName",
                  "enumerated_type": "damage_types",
                  "id": {
                    "type": "stat",
                    "stat": "damage_type"
                  }
                }
              ]
            }
          }
        },
        {
          "condition": {
            "type": "constant",
            "value": true,
            "value_type": "bool"
          },
          "components": {
            "type": "constant",
            "value": "No damage",
            "value_type": "string"
          }
        }
      ]
    }
  }
]