view armor_display() =
  list(
    id = "armor_display",
    padding = 16,
    subviews = [
      composite(
        id = "armor_display_info",
        subviews = [
          text(
            id = "armor_display_source",
            margin_left = 16,
            style = "caption",
            resource_id = "source",
            resource_instance_ids_stat = "source",
            resource_display_stat = "abbreviation",
          ),
          text(id = "armor_display_source_separator", text = ", ", style = "caption"),
          text(
            id = "armor_display_properties",
            text = properties,
            style = "caption",
            is_visible = !isEmpty(properties),
          ),
        ],
      ),
      composite(
        id = "armor_display_character_properties",
        subviews = [
          text(
            id = "armor_display_proficient",
            margin_left = 16,
            text = "Proficient",
            style = "caption",
            color = "accent",
            is_visible = is_proficient,
          ),
          text(
            id = "armor_display_equipped",
            margin_left = 16,
            text = "Equipped",
            style = "caption",
            color = "#4CAF50",
            is_visible = is_equipped,
          ),
          text(
            id = "armor_display_attuned",
            margin_left = 16,
            text = "Attuned",
            style = "caption",
            color = "#4CAF50",
            is_visible = is_attuned,
          ),
        ],
        is_visible = defined(stat = "$character"),
      ),
      composite(
        id = "armor_display_type_composite",
        margin_top = 16,
        subviews = [
          text(
            id = "armor_display_type_label",
            text = "Type: ",
            style = "text",
            bold = true,
          ),
          text(
            id = "armor_display_type_label",
            text = enumeratedName(enumerated_type = "armor_types", id = type),
            style = "text",
          ),
        ],
      ),
      composite(
        id = "armor_display_armor_class_composite",
        margin_top = 8,
        subviews = [
          text(
            id = "armor_display_armor_class_label",
            text = "Armor class: ",
            style = "text",
            bold = true,
          ),
          text(
            id = "armor_display_armor_class_label",
            text = armor_class,
            style = "text",
            color = if is_proficient then "accent" else "hint",
          ),
        ],
      ),
      composite(
        id = "armor_display_required_strength_composite",
        is_visible = required_strength > 0,
        subviews = [
          text(
            id = "armor_display_required_strength_label",
            text = "Required strength: ",
            style = "text",
            bold = true,
          ),
          text(
            id = "armor_display_required_strength_label",
            text = required_strength,
            style = "text",
          ),
        ],
      ),
      text(
        id = "armor_display_description",
        margin_top = 16,
        text = description,
        style = "text",
        is_visible = !isEmpty(description),
      ),
      collapsible(
        id = "armor_display_effects_collapsible",
        margin_top = 8,
        title = "Magic effects",
        is_visible = !isEmpty(effects),
        subviews = [
          resourceArray(
            id = "armor_display_effects",
            resource_id = "effect",
            stat = "effects",
            view_type = "display",
          ),
        ],
      ),
      composite(
        id = "armor_display_attune_advantage_composite",
        row_only = true,
        is_visible = defined(stat = "$character"),
        subviews = [
          button(
            id = "armor_display_attune_button",
            text = if is_attuned then "UNATTUNE" else "ATTUNE",
            event = event(name = "toggle_attunement"),
            is_visible = requires_attunement,
          ),
          spacer(id = "armor_display_attune_advantage_spacer"),
          button(
            id = "armor_display_equip_button",
            text = if is_equipped then "UNEQUIP" else "EQUIP",
            event = event(name = "toggle_equip"),
          ),
        ],
      ),
    ],
  );
