{
  "id": "weapon_list",
  "type": "listItem",
  "title": {
    "type": "stat",
    "stat": "name"
  },
  "subtitle": {
    "type": "stat",
    "stat": "properties"
  },
  "first_line_extra": {
    "type": "stat",
    "stat": "display_first_line_extra"
  },
  "first_line_extra_color": {
    "type": "when",
    "clauses": [
      {
        "condition": {
          "type": "defined",
          "stat": "$character"
        },
        "components": {
          "type": "when",
          "clauses": [
            {
              "condition": {
                "type": "stat",
                "stat": "is_proficient"
              },
              "components": {
                "type": "constant",
                "value": "accent",
                "value_type": "string"
              }
            },
            {
              "condition": {
                "type": "constant",
                "value": true,
                "value_type": "bool"
              },
              "components": {
                "type": "constant",
                "value": "text",
                "value_type": "string"
              }
            }
          ]
        }
      },
      {
        "condition": {
          "type": "constant",
          "value": true,
          "value_type": "bool"
        },
        "components": {
          "type": "constant",
          "value": "text",
          "value_type": "string"
        }
      }
    ]
  },
  "second_line_extra": {
    "type": "stat",
    "stat": "display_second_line_extra"
  },
  "second_line_extra_color": {
    "type": "when",
    "clauses": [
      {
        "condition": {
          "type": "defined",
          "stat": "$character"
        },
        "components": {
          "type": "constant",
          "value": "text",
          "value_type": "string"
        }
      },
      {
        "condition": {
          "type": "not",
          "components": {
            "type": "isEmpty",
            "components": {
              "type": "stat",
              "stat": "effects"
            }
          }
        },
        "components": {
          "type": "constant",
          "value": "accent",
          "value_type": "string"
        }
      },
      {
        "condition": {
          "type": "constant",
          "value": true,
          "value_type": "bool"
        },
        "components": {
          "type": "constant",
          "value": "text",
          "value_type": "string"
        }
      }
    ]
  },
  "chips": {
    "type": "flatAppend",
    "components": [
      {
        "type": "when",
        "clauses": [
          {
            "condition": {
              "type": "equals",
              "components": {
                "type": "list",
                "components": [
                  {
                    "type": "constant",
                    "value": true,
                    "value_type": "bool"
                  },
                  {
                    "type": "stat",
                    "stat": "is_attuned"
                  }
                ]
              }
            },
            "components": {
              "type": "list",
              "components": [
                {
                  "type": "createChip",
                  "id": "attuned_chip",
                  "text": {
                    "type": "constant",
                    "value": "ATTUNED",
                    "value_type": "string"
                  },
                  "background_color": {
                    "type": "constant",
                    "value": "#4caf50",
                    "value_type": "string"
                  },
                  "style": {
                    "type": "constant",
                    "value": "compact",
                    "value_type": "string"
                  }
                }
              ]
            }
          },
          {
            "condition": {
              "type": "constant",
              "value": true,
              "value_type": "bool"
            },
            "components": {
              "type": "list",
              "components": []
            }
          }
        ]
      }
    ]
  }
}