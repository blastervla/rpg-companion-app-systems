{
  "id": "weapon_shoot_ammunition",
  "event_names": "shoot_ammo",
  "effects": {
    "type": "sequence",
    "effects": [
      {
        "type": "when",
        "clauses": [
          {
            "condition": {
              "type": "notNull",
              "components": {
                "type": "stat",
                "stat": "selected_item_to_shoot"
              }
            },
            "effect": {
              "type": "addToStat",
              "stat": "selected_item_to_shoot.quantity",
              "value": {
                "type": "constant",
                "value": -1,
                "value_type": "integer"
              },
              "aggregation_type": "set"
            }
          }
        ]
      },
      {
        "type": "fireEvent",
        "event_names": {
          "type": "list",
          "components": [
            {
              "type": "constant",
              "value": "remove_empty_items",
              "value_type": "string"
            }
          ]
        }
      }
    ]
  }
}