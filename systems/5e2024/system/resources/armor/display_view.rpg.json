{
  "id": "armor_display",
  "type": "list",
  "padding": 16,
  "subviews": [
    {
      "id": "armor_display_info",
      "type": "composite",
      "subviews": [
        {
          "id": "armor_display_source",
          "type": "text",
          "margin_left": 16,
          "style": "caption",
          "resource_id": "source",
          "resource_instance_ids_stat": "source",
          "resource_display_stat": "abbreviation"
        },
        {
          "id": "armor_display_source_separator",
          "type": "text",
          "text": {
            "type": "constant",
            "value": ", ",
            "value_type": "string"
          },
          "style": "caption"
        },
        {
          "id": "armor_display_properties",
          "type": "text",
          "text": {
            "type": "stat",
            "stat": "properties"
          },
          "style": "caption",
          "is_visible": {
            "type": "not",
            "components": {
              "type": "isEmpty",
              "components": {
                "type": "stat",
                "stat": "properties"
              }
            }
          }
        }
      ]
    },
    {
      "id": "armor_display_character_properties",
      "type": "composite",
      "subviews": [
        {
          "id": "armor_display_proficient",
          "type": "text",
          "margin_left": 16,
          "text": {
            "type": "constant",
            "value": "Proficient",
            "value_type": "string"
          },
          "style": "caption",
          "color": {
            "type": "constant",
            "value": "accent",
            "value_type": "string"
          },
          "is_visible": {
            "type": "stat",
            "stat": "is_proficient"
          }
        },
        {
          "id": "armor_display_equipped",
          "type": "text",
          "margin_left": 16,
          "text": {
            "type": "constant",
            "value": "Equipped",
            "value_type": "string"
          },
          "style": "caption",
          "color": {
            "type": "constant",
            "value": "#4CAF50",
            "value_type": "string"
          },
          "is_visible": {
            "type": "stat",
            "stat": "is_equipped"
          }
        },
        {
          "id": "armor_display_attuned",
          "type": "text",
          "margin_left": 16,
          "text": {
            "type": "constant",
            "value": "Attuned",
            "value_type": "string"
          },
          "style": "caption",
          "color": {
            "type": "constant",
            "value": "#4CAF50",
            "value_type": "string"
          },
          "is_visible": {
            "type": "stat",
            "stat": "is_attuned"
          }
        }
      ],
      "is_visible": {
        "type": "defined",
        "stat": "$character"
      }
    },
    {
      "id": "armor_display_type_composite",
      "type": "composite",
      "margin_top": 16,
      "subviews": [
        {
          "id": "armor_display_type_label",
          "type": "text",
          "text": {
            "type": "constant",
            "value": "Type: ",
            "value_type": "string"
          },
          "style": "text",
          "bold": true
        },
        {
          "id": "armor_display_type_label",
          "type": "text",
          "text": {
            "type": "enumeratedName",
            "enumerated_type": "armor_types",
            "id": {
              "type": "stat",
              "stat": "type"
            }
          },
          "style": "text"
        }
      ]
    },
    {
      "id": "armor_display_armor_class_composite",
      "type": "composite",
      "margin_top": 8,
      "subviews": [
        {
          "id": "armor_display_armor_class_label",
          "type": "text",
          "text": {
            "type": "constant",
            "value": "Armor class: ",
            "value_type": "string"
          },
          "style": "text",
          "bold": true
        },
        {
          "id": "armor_display_armor_class_label",
          "type": "text",
          "text": {
            "type": "stat",
            "stat": "armor_class"
          },
          "style": "text",
          "color": {
            "type": "when",
            "clauses": [
              {
                "condition": {
                  "type": "stat",
                  "stat": "is_proficient"
                },
                "components": {
                  "type": "constant",
                  "value": "accent",
                  "value_type": "string"
                }
              },
              {
                "condition": {
                  "type": "constant",
                  "value": true,
                  "value_type": "bool"
                },
                "components": {
                  "type": "constant",
                  "value": "hint",
                  "value_type": "string"
                }
              }
            ]
          }
        }
      ]
    },
    {
      "id": "armor_display_required_strength_composite",
      "type": "composite",
      "is_visible": {
        "type": "greaterThan",
        "components": {
          "type": "list",
          "components": [
            {
              "type": "stat",
              "stat": "required_strength"
            },
            {
              "type": "constant",
              "value": 0,
              "value_type": "integer"
            }
          ]
        }
      },
      "subviews": [
        {
          "id": "armor_display_required_strength_label",
          "type": "text",
          "text": {
            "type": "constant",
            "value": "Required strength: ",
            "value_type": "string"
          },
          "style": "text",
          "bold": true
        },
        {
          "id": "armor_display_required_strength_label",
          "type": "text",
          "text": {
            "type": "stat",
            "stat": "required_strength"
          },
          "style": "text"
        }
      ]
    },
    {
      "id": "armor_display_description",
      "type": "text",
      "margin_top": 16,
      "text": {
        "type": "stat",
        "stat": "description"
      },
      "style": "text",
      "is_visible": {
        "type": "not",
        "components": {
          "type": "isEmpty",
          "components": {
            "type": "stat",
            "stat": "description"
          }
        }
      }
    },
    {
      "id": "armor_display_effects_collapsible",
      "type": "collapsible",
      "margin_top": 8,
      "title": {
        "type": "constant",
        "value": "Magic effects",
        "value_type": "string"
      },
      "is_visible": {
        "type": "not",
        "components": {
          "type": "isEmpty",
          "components": {
            "type": "stat",
            "stat": "effects"
          }
        }
      },
      "subviews": [
        {
          "id": "armor_display_effects",
          "type": "resourceArray",
          "resource_id": "effect",
          "stat": "effects",
          "view_type": "display"
        }
      ]
    },
    {
      "id": "armor_display_attune_advantage_composite",
      "type": "composite",
      "row_only": true,
      "is_visible": {
        "type": "defined",
        "stat": "$character"
      },
      "subviews": [
        {
          "id": "armor_display_attune_button",
          "type": "button",
          "text": {
            "type": "when",
            "clauses": [
              {
                "condition": {
                  "type": "stat",
                  "stat": "is_attuned"
                },
                "components": {
                  "type": "constant",
                  "value": "UNATTUNE",
                  "value_type": "string"
                }
              },
              {
                "condition": {
                  "type": "constant",
                  "value": true,
                  "value_type": "bool"
                },
                "components": {
                  "type": "constant",
                  "value": "ATTUNE",
                  "value_type": "string"
                }
              }
            ]
          },
          "event": {
            "name": "toggle_attunement"
          },
          "is_visible": {
            "type": "stat",
            "stat": "requires_attunement"
          }
        },
        {
          "id": "armor_display_attune_advantage_spacer",
          "type": "spacer"
        },
        {
          "id": "armor_display_equip_button",
          "type": "button",
          "text": {
            "type": "when",
            "clauses": [
              {
                "condition": {
                  "type": "stat",
                  "stat": "is_equipped"
                },
                "components": {
                  "type": "constant",
                  "value": "UNEQUIP",
                  "value_type": "string"
                }
              },
              {
                "condition": {
                  "type": "constant",
                  "value": true,
                  "value_type": "bool"
                },
                "components": {
                  "type": "constant",
                  "value": "EQUIP",
                  "value_type": "string"
                }
              }
            ]
          },
          "event": {
            "name": "toggle_equip"
          }
        }
      ]
    }
  ]
}