mechanic long_rest_when_new(event_names = "characterLoaded") =
  when {
    is_new_and_should_long_rest -> sequence(
      effects = [
        fireEvent(event = event(name = "long_rest", payload = payload())),
        setStat(
          stat = "is_new_and_should_long_rest",
          new_value = false,
          aggregation_type = "set",
        ),
      ],
    ),
  };
